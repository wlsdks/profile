<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="/css/board/list.css">
    <title>게시판 목록</title>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>게시판 목록</h1>
        <a href="/main/rootPage" class="main-button">메인페이지</a> <!-- 메인페이지 버튼 추가 -->
    </div>
    <table>
        <thead>
        <tr>
            <th>순번</th> <!-- 순번 칼럼 추가 -->
            <th>제목</th>
            <th>조회수</th>
            <th>좋아요 수</th>
            <th>작성자</th>
            <th>작성일</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="board, stat : ${boardList}">
            <td th:text="${stat.count + currentPage * 10}"></td> <!-- 순번 표시 -->
            <td><a th:href="@{/board/{id}(id=${board.boardId})}" th:text="${board.title}">제목</a></td>
            <td th:text="${board.views}">0</td>
            <td th:text="${board.likes}">0</td>
            <td th:text="${board.userDto.username}">0</td>
            <td th:text="${board.createdAt.format(T(java.time.format.DateTimeFormatter).ofPattern('yyyy-MM-dd'))}">0</td>
        </tr>
        </tbody>
    </table>
    <a href="/board/create" class="create-button">새 글 작성</a>
</div>

<!--paging 추가-->
<div class="row g-5">
    <nav id="pagination" aria-label="Page navigation">
        <ul class="pagination">
            <li class="page-item" th:class="${currentPage <= 0 ? 'disabled' : ''}">
                <a class="page-link" th:if="${currentPage > 0}" th:href="@{/board/list?page={page}(page=${currentPage - 1})}" aria-label="Previous">
                    <span aria-hidden="true">&laquo; prev</span>
                </a>
                <a class="page-link" th:unless="${currentPage > 0}" href="#" aria-label="Previous">
                    <span aria-hidden="true">&laquo; prev</span>
                </a>
            </li>
            <li class="page-item" th:each="pageNumber : ${paginationBarNumbers}" th:class="${pageNumber == currentPage ? 'active' : ''}">
                <a class="page-link" th:href="@{/board/list?page={page}(page=${pageNumber})}" th:text="${pageNumber + 1}"></a>
            </li>
            <li class="page-item" th:class="${currentPage >= totalPages - 1 ? 'disabled' : ''}">
                <a class="page-link" th:if="${currentPage < totalPages - 1}" th:href="@{/board/list?page={page}(page=${currentPage + 1})}" aria-label="Next">
                    <span aria-hidden="true">next &raquo;</span>
                </a>
                <a class="page-link" th:unless="${currentPage < totalPages - 1}" href="#" aria-label="Next">
                    <span aria-hidden="true">next &raquo;</span>
                </a>
            </li>
        </ul>
    </nav>
</div>


</body>
</html>
